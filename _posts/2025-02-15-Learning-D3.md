---
layout : post
date : 2025-02-15
title : Learning D3 js 
---

# Learning D3 js 
D3.js is declarative rather than imperative, meaning you describe what you want the visualization to look like, and D3 handles the details. For someone used to more imperative approaches (like traditional programming), this might feel a bit abstract or confusing at first.

## Simulation : 

Its like a mini physics engine, where instead of manually positioning every elements you let the simulation apply forces ( like gravity , repulsion , attraction ) to your nodes. 
f

Force Link : 

Force Many Body : Simulates repulsion between nodes 


## Smooth Transition 


## Register DOM event

Registers an event on DOM 

## Animation and tick in d3.js 

Its a part of d3-force, which uses a physics model to animate elements over time over time 
`tick` refers to each iteration of this simulation 

force simulation: it continously updates node positions based on forces ( like gravity , collision ) 
Runs in tick until stabilization or a specified limit 

If you manually modify the node position in the DOM, D3 simulation will override those values in the next tick !!
The simulation updates the values of x, y properties of each node based on forces. 

`fx` : fixed-x
`fy` : fixed-y

`<g> tag` : group tag 
`<svg> tag` : svg ( scale vector graphics ) 

Inside the svg we have g tags that have circle and lines inside it !! 

Dont change to manipulate things in DOM when in simulation mode as a resimulation will cause to redo the effects  

`force Simulation` : Simulation that acts / tells all the forces that are acting in a body, 

Repulsion : ( many - body forces ) prevents node from getting too close 
Attraction : ( link-force)  Acts like a spring between connected nodes, keeping related nodes together.
Centering force: Draws nodes toward a central point.
Collision force: Ensures that nodes maintain a certain distance from each other.


D3 METHODS TO USE : https://chatgpt.com/share/67b0f299-5328-8009-a2bc-4227d92681a8

Adding a class: 
`.attr("class" , "node")` : adds a class node

Access it using 

d3.select('.node') : pass the node name here !! 



D3 Code 
```javascript
const node = svg.append('g')  
    .selectAll('g')  
    .data(nodes)  
    .join('g')  
    .attr("class", "node")  
    .call(d3.drag()  
        .on('start', dragstarted)  
        .on('drag', dragged)  
        .on('end', dragended));  
```

Line-wise explanation: 

1) svg.append('g')
What it does:
    Adds a <g> (group) element to the svg.
    This <g> will contain all the nodes.

Why we do it:
    Helps organize the nodes in one group (useful for transforms, scaling, etc.).

2) .selectAll('g')

What it does:
    Selects all <g> elements inside the newly created <g>.
    Right now, there are no <g> elements, so this returns an empty selection.

3) .data(nodes)

What it does:
    Binds the nodes array (data) to the selection.
    Each item in nodes will be linked to a <g> element.

4) .join('g')

What it does:
    Checks if <g> elements exist for each data item:
        If they donâ€™t exist, it creates a new <g> for each data item.
        If they do exist, it reuses them.
    Essentially, this creates <g> elements for every node in nodes.

5) .attr("class", "node")

What it does:
    Adds the class "node" to each <g> element.
    Now, d3.selectAll('.node') will correctly select all the node groups.

6) .call(d3.drag()... )

What it does:
    Adds drag behavior to each node using d3.drag().
    The .call() function applies this behavior to each <g> element.














